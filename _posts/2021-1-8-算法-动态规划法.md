---
title: 算法学习-动态规划
date: 2021-1-8 23:29:53
categories:
- 数据结构和算法
tags:
- 数据结构和算法
---

## 1、什么是动态规划？

   动态规划(Dynamic Programming,DP)算法**目的为解决多阶段决策最优化问题**，采取的方法是将待求解的问题分解为多个子问题，按顺序求解每一个子问题，当前子问题的解将由前一个子问题的解推导出，最后一个子问题就是初始问题的解。

由于动态规划解决的问题多数有重叠子问题这个特点，为减少重复计算，对每一个子问题只解一次，将其不同阶段的不同状态保存在一个二维数组中，以便下一次求解同一子问题时直接查表。

## 2、动态规划的基本要素

**阶段(step)：**是对整个过程的自然划分。通常根据时间顺序或空间特征来划分阶段，以便按阶段的次序解优化问题。阶段变量一般用k=1,2,..,n表示

**状态(state)：**表示每个阶段开始时过程所处的自然状况。它应该能够描述过程的特征并且具有无后向性，即当某阶段的状态给定时，这个阶段以后过程的演变与该阶段以前各阶段的状态无关，即每个状态都是过去历史的一个完整总结。通常还要求状态是直接或间接可以观测的。

描述状态的变量称**状态**变量(state variable)。变量允许取值的范围称允许状态集合(set ofadmissible states)

**决策：**当一个阶段的状态确定后，可以作出各种选择从而演变到下一阶段的某个状态，这种选择手段称为决策(decision) 。

决策组成的序列称为**策略(policy)。**由初始状态x1开始的全过程的策略记作p1,n(x1)，即p1,n(x1)={u1(x1),u2(x2),...，un(xn)}。

**状态转移方程：**在确定性过程中，一旦某阶段的状态和决策为已知，下阶段的状态便完全确定。用状态转移方程(equation ofstate)表示这种演变规律。

**指标函数(objective function)：**是衡量过程优劣的数量指标，它是关于策略的数量函数，从阶段k到阶段n的指标函数用Vk,n(xk,pk,n(xk))表示，k=1,2,...,n。

使指标函数Vk,n达到最优值的策略是从k开始的后部子过程的**最优策略**。

## 3、动态规划和分治法的比较

**共同点**： 二者都要求原问题具有最优子结构性质,都是将原问题分而治之,分解成若干个规模较小(小到很容易解决的程序)的子问题.然后将子问题的解合并,形成原问题的解.

**不同点： **分治法将分解后的子问题看成相互独立的，通过用**自顶向下的递归**来做。

　　　　 动态规划将分解后的子问题理解为相互间有联系,有重叠部分，需要记忆，通常用**自底向上的递推**来做。

## 4、动态规划的应用场景

能采用动态规划求解的问题的一般要具有3个性质：

  (1) **最优化原理**：如果问题的最优解所包含的子问题的解也是最优的，就称该问题具有最优子结构，即满足最优化原理。（ 比如求广州到北京的最短距离，先把路径分割为（广州，南京）和（南京，北京）。分别求出子路径的最短距离然后再连接，就可以得到广州到北京的最短路径。寻求最短路径的问题可以利用子路径的最优解获得整个问题的最优解。这样就可以证明，最短路径具有最优子结构 ）

  (2) **无后效性**：即某阶段状态一旦确定，就不受这个状态以后决策的影响。也就是说，某状态以后的过程不会影响以前的状态，只与当前状态有关。

（3）**有重叠子问题**：即子问题之间是不独立的，一个子问题在下一阶段决策中可能被多次使用到。（该性质并不是动态规划适用的必要条件，但是如果没有这条性质，动态规划算法同其他算法相比就不具备优势）

## 5、动态规划的求解步骤

   动态规划所处理的问题是一个多阶段决策问题，一般由初始状态开始，通过对中间阶段决策的选择，达到结束状态。这些决策形成了一个决策序列，同时确定了完成整个过程的一条活动路线(通常是求最优的活动路线)。如图所示。动态规划的设计都有着一定的模式，一般要经历以下几个步骤。

  初始状态→│决策１│→│决策２│→…→│决策ｎ│→结束状态

  (1) **划分阶段**：按照问题的时间或空间特征，把问题分为若干个阶段。在划分阶段时，注意划分后的阶段一定要是有序的或者是可排序的，否则问题就无法求解。

  (2) **确定状态和状态变量**：将问题发展到各个阶段时所处于的各种客观情况用不同的状态表示出来。当然，状态的选择要满足无后效性。

  (3) **确定决策并写出状态转移方程**：因为决策和状态转移有着天然的联系，状态转移就是根据上一阶段的状态和决策来导出本阶段的状态。所以如果确定了决策，状态转移方程也就可写出。但事实上常常是反过来做，根据相邻两个阶段的状态之间的关系来确定决策方法和状态转移方程。

  (4) ***寻找边界条件***：给出的状态转移方程是一个递推式，需要一个递推的终止条件或边界条件。

   一般，只要解决问题的阶段、状态和状态转移决策确定了，就可以写出状态转移方程（包括边界条件）。

实际应用中可以按以下几个简化的步骤进行设计：

   （1）分析最优解的性质，并刻画其结构特征。

   （2）递归的定义最优解。

   （3）以自底向上或自顶向下的记忆化方式（备忘录法）计算出最优值

   （4）根据计算最优值时得到的信息，构造问题的最优解

## 6、动态规划的例子

（给个目标数，求最值问题）

1、数塔取数问题

2、编辑距离

3、矩阵取数问题

4、背包问题

5、最长公共子序列Lcs

## 7、参考资料

1、《动态规划（DP）算法》

